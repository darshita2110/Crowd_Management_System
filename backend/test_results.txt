[1m============================= test session starts ==============================[0m
platform darwin -- Python 3.9.6, pytest-7.4.3, pluggy-1.6.0 -- /Library/Developer/CommandLineTools/usr/bin/python3
cachedir: .pytest_cache
rootdir: /Users/mayanksoni/Desktop/crowd/Crowd_Management_System/backend
configfile: pytest.ini
plugins: anyio-4.9.0, asyncio-0.21.1
asyncio: mode=auto
[1mcollecting ... [0mcollected 58 items

test_api.py::TestAuthentication::test_register_public_user 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:28:55 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mFAILED[0m[31m                                                                   [  1%][0m
test_api.py::TestAuthentication::test_register_organizer 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:28:55 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mPASSED[0m[31m                                                                   [  3%][0m
test_api.py::TestAuthentication::test_register_duplicate_email 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:56 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:28:56 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 400 Bad Request"
[32mPASSED[0m[31m                                                                   [  5%][0m
test_api.py::TestAuthentication::test_login_success 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:56 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:28:56 [[32m    INFO[0m] HTTP Request: POST http://test/auth/login "HTTP/1.1 200 OK"
[31mFAILED[0m[31m                                                                   [  6%][0m
test_api.py::TestAuthentication::test_login_wrong_password 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:56 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:28:56 [[32m    INFO[0m] HTTP Request: POST http://test/auth/login "HTTP/1.1 401 Unauthorized"
[32mPASSED[0m[31m                                                                   [  8%][0m
test_api.py::TestAuthentication::test_login_nonexistent_user 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:28:56 [[32m    INFO[0m] HTTP Request: POST http://test/auth/login "HTTP/1.1 401 Unauthorized"
[31mFAILED[0m[31m                                                                   [ 10%][0m
test_api.py::TestAuthentication::test_get_all_users 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:57 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:28:57 [[32m    INFO[0m] HTTP Request: GET http://test/auth/users "HTTP/1.1 200 OK"
[32mPASSED[0m[31m                                                                   [ 12%][0m
test_api.py::TestAuthentication::test_get_users_by_role 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:57 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:28:57 [[32m    INFO[0m] HTTP Request: GET http://test/auth/users?role=organizer "HTTP/1.1 200 OK"
[32mPASSED[0m[31m                                                                   [ 13%][0m
test_api.py::TestAuthentication::test_get_user_by_id 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:57 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mFAILED[0m[31m                                                                   [ 15%][0m
test_api.py::TestEvents::test_create_event 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:57 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mFAILED[0m[31m                                                                   [ 17%][0m
test_api.py::TestEvents::test_get_all_events 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:58 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 18%][0m
test_api.py::TestEvents::test_get_event_by_id 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:58 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 20%][0m
test_api.py::TestEvents::test_get_events_by_status 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:58 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 22%][0m
test_api.py::TestEvents::test_get_events_by_organizer 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:59 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 24%][0m
test_api.py::TestEvents::test_update_event 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:59 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 25%][0m
test_api.py::TestEvents::test_update_event_status_to_live 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:59 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 27%][0m
test_api.py::TestEvents::test_update_event_status_to_completed 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:59 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 29%][0m
test_api.py::TestEvents::test_delete_event 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:28:59 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mFAILED[0m[31m                                                                   [ 31%][0m
test_api.py::TestCrowdDensity::test_create_density_record 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:00 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 32%][0m
test_api.py::TestCrowdDensity::test_get_all_density_records 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:29:00 [[32m    INFO[0m] HTTP Request: GET http://test/crowd-density/ "HTTP/1.1 200 OK"
[32mPASSED[0m[31m                                                                   [ 34%][0m
test_api.py::TestCrowdDensity::test_get_density_by_event 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:00 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 36%][0m
test_api.py::TestCrowdDensity::test_get_density_by_area 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:00 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 37%][0m
test_api.py::TestCrowdDensity::test_get_latest_density 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:01 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 39%][0m
test_api.py::TestCrowdDensity::test_get_current_density_all_areas 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:01 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 41%][0m
test_api.py::TestMedicalEmergencies::test_report_emergency 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:01 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
2025-10-25 16:29:01 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 43%][0m
test_api.py::TestMedicalEmergencies::test_get_all_emergencies 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:29:01 [[32m    INFO[0m] HTTP Request: GET http://test/medical-emergencies/ "HTTP/1.1 200 OK"
[32mPASSED[0m[31m                                                                   [ 44%][0m
test_api.py::TestMedicalEmergencies::test_get_emergencies_by_event 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:02 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
2025-10-25 16:29:02 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 46%][0m
test_api.py::TestMedicalEmergencies::test_get_emergencies_by_severity 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:29:02 [[32m    INFO[0m] HTTP Request: GET http://test/medical-emergencies/?severity=critical "HTTP/1.1 200 OK"
[32mPASSED[0m[31m                                                                   [ 48%][0m
test_api.py::TestMedicalEmergencies::test_update_emergency_status 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:02 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
2025-10-25 16:29:02 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 50%][0m
test_api.py::TestMedicalEmergencies::test_get_emergency_statistics 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:02 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 51%][0m
test_api.py::TestLostPersons::test_report_lost_child 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:03 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
2025-10-25 16:29:03 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 53%][0m
test_api.py::TestLostPersons::test_report_lost_elderly 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:03 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
2025-10-25 16:29:03 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 55%][0m
test_api.py::TestLostPersons::test_get_all_lost_person_reports 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:29:04 [[32m    INFO[0m] HTTP Request: GET http://test/lost-persons/ "HTTP/1.1 200 OK"
[32mPASSED[0m[31m                                                                   [ 56%][0m
test_api.py::TestLostPersons::test_get_reports_by_event 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:04 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
2025-10-25 16:29:04 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 58%][0m
test_api.py::TestLostPersons::test_update_report_status 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:04 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
2025-10-25 16:29:04 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 60%][0m
test_api.py::TestLostPersons::test_get_active_reports 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:05 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 62%][0m
test_api.py::TestLostPersons::test_get_lost_person_statistics 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:05 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 63%][0m
test_api.py::TestFeedback::test_submit_positive_feedback 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:05 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
2025-10-25 16:29:05 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 65%][0m
test_api.py::TestFeedback::test_submit_negative_feedback 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:05 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
2025-10-25 16:29:06 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 67%][0m
test_api.py::TestFeedback::test_submit_rating_only 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:06 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
2025-10-25 16:29:06 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 68%][0m
test_api.py::TestFeedback::test_get_all_feedback 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:29:06 [[32m    INFO[0m] HTTP Request: GET http://test/feedback/ "HTTP/1.1 200 OK"
[32mPASSED[0m[31m                                                                   [ 70%][0m
test_api.py::TestFeedback::test_get_feedback_by_event 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:06 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
2025-10-25 16:29:06 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 72%][0m
test_api.py::TestFeedback::test_get_feedback_statistics 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:07 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 74%][0m
test_api.py::TestFacilities::test_create_medical_facility 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:07 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 75%][0m
test_api.py::TestFacilities::test_create_washroom_facility 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:07 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 77%][0m
test_api.py::TestFacilities::test_get_all_facilities 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:29:07 [[32m    INFO[0m] HTTP Request: GET http://test/facilities/ "HTTP/1.1 200 OK"
[32mPASSED[0m[31m                                                                   [ 79%][0m
test_api.py::TestFacilities::test_get_facilities_by_type 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:07 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 81%][0m
test_api.py::TestFacilities::test_update_facility_availability 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:08 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 82%][0m
test_api.py::TestFacilities::test_find_nearby_facilities 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:08 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 84%][0m
test_api.py::TestAlerts::test_create_warning_alert 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:08 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 86%][0m
test_api.py::TestAlerts::test_create_emergency_alert 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:08 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 87%][0m
test_api.py::TestAlerts::test_get_all_alerts 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:29:08 [[32m    INFO[0m] HTTP Request: GET http://test/alerts/ "HTTP/1.1 200 OK"
[32mPASSED[0m[31m                                                                   [ 89%][0m
test_api.py::TestAlerts::test_get_active_alerts 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:08 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 91%][0m
test_api.py::TestAlerts::test_deactivate_alert 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:09 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 93%][0m
test_api.py::TestAlerts::test_create_weather_alert 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:09 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 94%][0m
test_api.py::TestAlerts::test_get_latest_weather_alert 
[1m-------------------------------- live log setup --------------------------------[0m
2025-10-25 16:29:09 [[32m    INFO[0m] HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31mERROR[0m[31m                                                                    [ 96%][0m
test_api.py::TestSystem::test_root_endpoint 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:29:09 [[32m    INFO[0m] HTTP Request: GET http://test/ "HTTP/1.1 200 OK"
[32mPASSED[0m[31m                                                                   [ 98%][0m
test_api.py::TestSystem::test_health_check 
[1m-------------------------------- live log call ---------------------------------[0m
2025-10-25 16:29:09 [[32m    INFO[0m] HTTP Request: GET http://test/health "HTTP/1.1 200 OK"
[32mPASSED[0m[31m                                                                   [100%][0m

==================================== ERRORS ====================================
[31m[1m_______________ ERROR at setup of TestEvents.test_get_all_events _______________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m______________ ERROR at setup of TestEvents.test_get_event_by_id _______________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m____________ ERROR at setup of TestEvents.test_get_events_by_status ____________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m__________ ERROR at setup of TestEvents.test_get_events_by_organizer ___________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m________________ ERROR at setup of TestEvents.test_update_event ________________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m________ ERROR at setup of TestEvents.test_update_event_status_to_live _________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m______ ERROR at setup of TestEvents.test_update_event_status_to_completed ______[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m________ ERROR at setup of TestCrowdDensity.test_create_density_record _________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m_________ ERROR at setup of TestCrowdDensity.test_get_density_by_event _________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m_________ ERROR at setup of TestCrowdDensity.test_get_density_by_area __________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m__________ ERROR at setup of TestCrowdDensity.test_get_latest_density __________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m____ ERROR at setup of TestCrowdDensity.test_get_current_density_all_areas _____[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m________ ERROR at setup of TestMedicalEmergencies.test_report_emergency ________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m____ ERROR at setup of TestMedicalEmergencies.test_get_emergencies_by_event ____[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m____ ERROR at setup of TestMedicalEmergencies.test_update_emergency_status _____[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m____ ERROR at setup of TestMedicalEmergencies.test_get_emergency_statistics ____[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m___________ ERROR at setup of TestLostPersons.test_report_lost_child ___________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m__________ ERROR at setup of TestLostPersons.test_report_lost_elderly __________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m_________ ERROR at setup of TestLostPersons.test_get_reports_by_event __________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m_________ ERROR at setup of TestLostPersons.test_update_report_status __________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m__________ ERROR at setup of TestLostPersons.test_get_active_reports ___________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m______ ERROR at setup of TestLostPersons.test_get_lost_person_statistics _______[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m_________ ERROR at setup of TestFeedback.test_submit_positive_feedback _________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m_________ ERROR at setup of TestFeedback.test_submit_negative_feedback _________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m____________ ERROR at setup of TestFeedback.test_submit_rating_only ____________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m__________ ERROR at setup of TestFeedback.test_get_feedback_by_event ___________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m_________ ERROR at setup of TestFeedback.test_get_feedback_statistics __________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m________ ERROR at setup of TestFacilities.test_create_medical_facility _________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m________ ERROR at setup of TestFacilities.test_create_washroom_facility ________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m_________ ERROR at setup of TestFacilities.test_get_facilities_by_type _________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m______ ERROR at setup of TestFacilities.test_update_facility_availability ______[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m_________ ERROR at setup of TestFacilities.test_find_nearby_facilities _________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m____________ ERROR at setup of TestAlerts.test_create_warning_alert ____________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m___________ ERROR at setup of TestAlerts.test_create_emergency_alert ___________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m_____________ ERROR at setup of TestAlerts.test_get_active_alerts ______________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m______________ ERROR at setup of TestAlerts.test_deactivate_alert ______________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m____________ ERROR at setup of TestAlerts.test_create_weather_alert ____________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
[31m[1m__________ ERROR at setup of TestAlerts.test_get_latest_weather_alert __________[0m
[1m[31mE   KeyError: 'user_id'[0m
------------------------------ Captured log setup ------------------------------
[32mINFO    [0m httpx:_client.py:1758 HTTP Request: POST http://test/auth/register "HTTP/1.1 201 Created"
=================================== FAILURES ===================================
/Users/mayanksoni/Desktop/crowd/Crowd_Management_System/backend/test_api.py:115: AssertionError: assert 'user_id' in {'created_at': '2025-10-25T10:58:55.563551', 'email': 'john_1761389934.094314@example.com', 'id': 'USR6B59561AE469', 'location': None, ...}
/Users/mayanksoni/Desktop/crowd/Crowd_Management_System/backend/test_api.py:155: KeyError: 'user_id'
/Users/mayanksoni/Desktop/crowd/Crowd_Management_System/backend/test_api.py:173: assert 401 == 404
/Users/mayanksoni/Desktop/crowd/Crowd_Management_System/backend/test_api.py:193: KeyError: 'user_id'
/Users/mayanksoni/Desktop/crowd/Crowd_Management_System/backend/test_api.py:216: KeyError: 'user_id'
/Users/mayanksoni/Desktop/crowd/Crowd_Management_System/backend/test_api.py:314: KeyError: 'user_id'
[36m[1m=========================== short test summary info ============================[0m
[31mFAILED[0m test_api.py::[1mTestAuthentication::test_register_public_user[0m - AssertionError: assert 'user_id' in {'created_at': '2025-10-25T10:58:55.563...
[31mFAILED[0m test_api.py::[1mTestAuthentication::test_login_success[0m - KeyError: 'user_id'
[31mFAILED[0m test_api.py::[1mTestAuthentication::test_login_nonexistent_user[0m - assert 401 == 404
[31mFAILED[0m test_api.py::[1mTestAuthentication::test_get_user_by_id[0m - KeyError: 'user_id'
[31mFAILED[0m test_api.py::[1mTestEvents::test_create_event[0m - KeyError: 'user_id'
[31mFAILED[0m test_api.py::[1mTestEvents::test_delete_event[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestEvents::test_get_all_events[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestEvents::test_get_event_by_id[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestEvents::test_get_events_by_status[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestEvents::test_get_events_by_organizer[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestEvents::test_update_event[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestEvents::test_update_event_status_to_live[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestEvents::test_update_event_status_to_completed[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestCrowdDensity::test_create_density_record[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestCrowdDensity::test_get_density_by_event[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestCrowdDensity::test_get_density_by_area[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestCrowdDensity::test_get_latest_density[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestCrowdDensity::test_get_current_density_all_areas[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestMedicalEmergencies::test_report_emergency[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestMedicalEmergencies::test_get_emergencies_by_event[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestMedicalEmergencies::test_update_emergency_status[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestMedicalEmergencies::test_get_emergency_statistics[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestLostPersons::test_report_lost_child[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestLostPersons::test_report_lost_elderly[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestLostPersons::test_get_reports_by_event[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestLostPersons::test_update_report_status[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestLostPersons::test_get_active_reports[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestLostPersons::test_get_lost_person_statistics[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestFeedback::test_submit_positive_feedback[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestFeedback::test_submit_negative_feedback[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestFeedback::test_submit_rating_only[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestFeedback::test_get_feedback_by_event[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestFeedback::test_get_feedback_statistics[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestFacilities::test_create_medical_facility[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestFacilities::test_create_washroom_facility[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestFacilities::test_get_facilities_by_type[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestFacilities::test_update_facility_availability[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestFacilities::test_find_nearby_facilities[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestAlerts::test_create_warning_alert[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestAlerts::test_create_emergency_alert[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestAlerts::test_get_active_alerts[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestAlerts::test_deactivate_alert[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestAlerts::test_create_weather_alert[0m - KeyError: 'user_id'
[31mERROR[0m test_api.py::[1mTestAlerts::test_get_latest_weather_alert[0m - KeyError: 'user_id'
[31m============ [31m[1m6 failed[0m, [32m14 passed[0m, [33m21 warnings[0m, [31m[1m38 errors[0m[31m in 16.59s[0m[31m =============[0m
